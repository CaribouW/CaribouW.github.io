<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Caribouのblog - Welcome</title><meta name="author" content="caribou"><meta name="copyright" content="caribou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="Make Every Line Holy">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><meta property="og:type" content="website">
<meta property="og:title" content="Caribouのblog">
<meta property="og:url" content="http://caribou.top/index.html">
<meta property="og:site_name" content="Caribouのblog">
<meta property="og:description" content="Make Every Line Holy">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images.unsplash.com/photo-1569525987258-6aa03a5e4926?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2132&q=80">
<meta property="article:author" content="caribou">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images.unsplash.com/photo-1569525987258-6aa03a5e4926?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2132&q=80"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://caribou.top/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isSidebar: false,
  postUpdate: '2021-01-24 15:33:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Caribouのblog" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://images.unsplash.com/photo-1569525987258-6aa03a5e4926?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2132&amp;q=80" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">17</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">9</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/jankin6/picgo-picture/Imges/index.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Caribouのblog</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">Caribouのblog</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/CaribouW" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout_page" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/12/03/lun-wen-bi-ji-flexsc/" title="论文笔记-FlexSC">     <img class="post_bg" src="https://images.unsplash.com/photo-1601758282715-6446bbde7082?ixid=MXwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&amp;ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1253&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="论文笔记-FlexSC"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/12/03/lun-wen-bi-ji-flexsc/" title="论文笔记-FlexSC">论文笔记-FlexSC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-03T02:35:50.000Z" title="发表于 2020-12-03 10:35:50">2020-12-03</time></span></div><div class="content"> <!-- hexo-inject:begin --><!-- hexo-inject:end -->1. 概述
系统调用采用同步的机制，在用户态转移到内核态的过程中，需要把当前上下文保存，但是其中的模式切换成本，与间接的处理器上下文数据污染（影响局部性 locality），会对系统调用造成比较大的负面影响

文中给出的 proposal : exception-less system call，在请求内核服务时，不需要使用同步处理器异常。实现过程中，(invocation stage)系统调用通过把内核请求，以普通的内存存储操作写入到一个预留的系统调用页 (syscall page)。(execution stage)随后的系统调用执行采用 异步 的方式 (special in-kernel syscall threads) ，将结果异步载入 syscall page
从上可以看出，它其实是把 invocation 和 execution 解耦。一方面可以在执行流上保证时间的局部性；另一方面能够让 syscall 独立运行在一个core上，与 user mode threads 隔离，保证每一个core内的空间局部性
与此同时，有一个很关键的 动态核特化 (dynamic core ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/04/09/liao-yi-liao-yi-zhi-xing-hua-ti/" title="聊一聊一致性的话题">     <img class="post_bg" src="https://images.unsplash.com/photo-1559251434-4e172832c9de?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=700&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="聊一聊一致性的话题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/09/liao-yi-liao-yi-zhi-xing-hua-ti/" title="聊一聊一致性的话题">聊一聊一致性的话题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-09T13:02:05.000Z" title="发表于 2020-04-09 21:02:05">2020-04-09</time></span></div><div class="content"> 主从复制
在分布式的 CAP 理论中，一致和可用我们往往都只能够偏向于其中的一者。这一点这里只是简单提一下。例如我们的 zk满足的就是 CP

今天主要谈一谈数据库当中的一个 一致性 话题
 Mysql 主从复制

在分布式的数据库系统中，如果主数据库发生了故障，那么需要能够及时切换到从数据库，并且进行数据的恢复工作。如何保证主从数据库之间的数据一致性也就成为了焦点问题。这次把目光聚焦在 Mysql 上，探究它的主从复制原理
对于这些数据库而言，严格的一致性是一个目标



主节点 Master 进行数据更新之后，会将更新日志写入 binlog 当中。此时创建的是第一个线程 binlong dump thread
随后从节点 Slave发起连接，连接到 Master ，从节点启东之后，启动线程 IO thread ，用于将 binlog 内容写入到从节点的 relay log
从节点随后创建 SQL thread ，用于从 relay log 中读取内容，并且开始进行写入操作

 Redis 主从复制

其主要的目的和 Mysql 一致，都是为了避免主节点失效之后的数据备份

 完整 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/04/02/rang-wo-men-shi-xian-yi-xie-fu-zai-jun-heng-suan-fa/" title="自己动手实现负载均衡算法">     <img class="post_bg" src="https://images.unsplash.com/photo-1584843863029-1bf7e8312a64?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1349&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="自己动手实现负载均衡算法"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/04/02/rang-wo-men-shi-xian-yi-xie-fu-zai-jun-heng-suan-fa/" title="自己动手实现负载均衡算法">自己动手实现负载均衡算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-04-02T14:32:27.000Z" title="发表于 2020-04-02 22:32:27">2020-04-02</time></span></div><div class="content"> 背景
最近在看 dubbo ，它的服务治理当中有很大一个方面讲的就是负载均衡。由于我们的服务提供者可以有多个 replication ，究竟选择哪一个比较合适，就成为了我们需要去思考的一个问题。完全出于兴趣使然，我打算动手实现一下常见的负载均衡算法，来让自己加深一下理解。根据一个非常常见的请求调用，以参数作为请求内容，来判定多个备用选项中的选择策略制定
设计了类 Provider 和 Consumer ，分别表示服务提供者和消费者。由消费者进行触发，来选取 N 个服务提供者的负载均衡策略。
1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * Entity */public class Provider &#123;	private String id;                //id信息	private double weight;            //价值权重	private long milliseconds;        //响应时间	publi ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/03/24/redis-ji-ben-shu-ju-jie-gou/" title="Redis-基本数据结构">     <img class="post_bg" src="https://images.unsplash.com/photo-1522968941782-e27ac665baa3?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis-基本数据结构"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/03/24/redis-ji-ben-shu-ju-jie-gou/" title="Redis-基本数据结构">Redis-基本数据结构</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-03-24T02:03:53.000Z" title="发表于 2020-03-24 10:03:53">2020-03-24</time></span></div><div class="content"> Redis 基本数据结构

Redis 的数据类型有五大类，分别是 列表、字符串、哈希表、有序集合、无序集合
字符串底层：SDS
列表底层：链表或者是 ziplist 压缩列表
哈希对象：ziplist 或者是 hashtable
集合：intset 或 hashtable
有序集合：ziplist 或 skiplist &amp; dictionary

底层的数据结构实现讲解
 简单动态字符串 SDS
 涉及数据结构
123456789101112struct sdshdr&#123;    // buf 中已占用空间的长度    int len;    // buf 中剩余可用空间的长度    int free;    // 数据空间    char buf[];&#125;;
 空间预加载策略
当我们进行 sdscat(sds s1 , const char* t) 的时候，可能 会引发空间重新分配

如果 free space 足够，那么不进行分配
如果不够，看 t 的大小是不是超过 1M (SDS_MAX_PREALLOC- 1024×10241024\times 102 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/03/14/java-ji-he/" title="Java集合">     <img class="post_bg" src="https://images.unsplash.com/photo-1496507161348-aeec0403f141?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1350&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java集合"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/03/14/java-ji-he/" title="Java集合">Java集合</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-03-14T09:26:21.000Z" title="发表于 2020-03-14 17:26:21">2020-03-14</time></span></div><div class="content"> Java 集合类整理

JDK 版本 1.8
本文章就最近看的一些jdk源码来进行总结，可能会比较简洁

 1. List 大类
主要包含了 ArrayList , Vector , LinkedList
 1.1 ArrayList

基本思想：

默认大小为 10 ，初始化的时候不进行对象数组空间分配，直到第一次 add(E e)
缓冲区满才进行扩容。扩容策略采取 OldCapacity * 1.5
remove 不进行容量调整 (会有浪费)


关键代码部分 grow(int minCapacity)
123456789101112131415161718private void grow(int minCapacity) &#123;        // overflow-conscious code        int oldCapacity = elementData.length;        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);        if (newCapacity - minC ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/18/cmake-xue-xi-bi-ji/" title="cmake学习笔记">     <img class="post_bg" src="https://images.unsplash.com/photo-1603199477811-71c45c02f10d?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=634&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="cmake学习笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/18/cmake-xue-xi-bi-ji/" title="cmake学习笔记">cmake学习笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-18T01:12:40.000Z" title="发表于 2020-02-18 09:12:40">2020-02-18</time></span></div><div class="content"> Cmake学习笔记
用于记录一下cmake开发中的一些整理性工作
 cmake变量
使用 set(A B) 来定义A这个新的变量，之后就可以通过$&#123;A&#125;来进行引用，可以想成一个自定义宏
 动态/静态链接、头文件配置
 头文件目录
INCLUDE_DIRECTORIES
指定项目使用到的头文件目录，可以一次包含多个头文件目录
 添加库文件
``
 添加外部文件夹
add_subdirectory(source_dir,[binary_dir])
第一个参数就是外部文件夹的位置，而binary_dir表示输出的位置。如果代码目录在外部，则必须要指定第二个参数
ADD_SUBDIRECTORY
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/02/17/tcp-ip-yue-du-bi-ji-2-jia-mi/" title="TCP-IP-阅读笔记-2 加密算法">     <img class="post_bg" src="https://images.unsplash.com/photo-1566664345779-062ed10879e0?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1267&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TCP-IP-阅读笔记-2 加密算法"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/17/tcp-ip-yue-du-bi-ji-2-jia-mi/" title="TCP-IP-阅读笔记-2 加密算法">TCP-IP-阅读笔记-2 加密算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-17T11:50:35.000Z" title="发表于 2020-02-17 19:50:35">2020-02-17</time></span></div><div class="content"> 从HTTPs说起
现实中和加密有关的网络攻击可以大致分为两种：被动攻击和 主动攻击。其中被动指的是攻击者窃听数据，信息传输双方很可能不知道攻击者的存在；而主动攻击更多的就是数据的伪造，直接导致信息传输中的数据改变。
我们常见的数据传输有如下
 对称加密
指的就是加、解密使用的同是一串密钥，所以被称做对称加密。对称加密只有一个密钥作为私钥。
常见的对称加密算法：DES，AES等。
一方通过密钥将信息加密后，把密文传给另一方，另一方通过这个相同的密钥将密文解密，转换成可以理解的明文。他们之间的关系如下：
1明文 &lt;-&gt; 密钥 &lt;-&gt; 密文
这样的一种信息传输方式虽然高效，但是非常容易被第三方获取到密钥。一旦密钥泄露，那么被动攻击和主动攻击就都有可能。
 非对称加密
每个人生成一个“私钥-公钥”对

使用私钥加密的信息，只能由该私钥对应的公钥才能解密，使用公钥加密的信息，只能由该公钥对应的私钥才能解密

1然后可以把你的public key分发给想给你传密文的用户，然后用户使用该public key加密过得密文，只有使用你的private key才能解密
简而言之， ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/02/17/chu-tan-anna/" title="初探Anna">     <img class="post_bg" src="https://images.unsplash.com/photo-1551342909-187e24a5797d?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=675&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="初探Anna"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/02/17/chu-tan-anna/" title="初探Anna">初探Anna</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-02-17T03:05:56.000Z" title="发表于 2020-02-17 11:05:56">2020-02-17</time></span></div><div class="content"> Anna初探
 背景
实习中主要做的是数据库引擎的开发。这一次遇到的是伯克利开发的 Anna ，将透过两篇paper来大致讲述一下入门的内容。
 进入正题
解决目标：

data scaling ：牵涉到数据分片 partition
workload scaling ：牵涉到 multi-master replication
硬件最大化利用 &amp; 多核计算机性能 ：wait-free execution (每一个core尽可能让他们一直工作)
无协调的一致性 coordination-free consistency model

一致性哈希 &amp; 哈希环




 Lattice 晶格
离散里面的一种偏序结构. 整个图里面只有一个起点和一个终点
达到的事务隔离级别 ：read-committed transaction
就这一点，论文中提到了 casual consistency 和 read committed 两种一致性的level ，具体就留到后面展开论述

 可用的分布式状态模型类别


共享内存
该方式常常需要额外的加锁去锁来进行一致性维护，因而极大地影响了系 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/01/15/bei-bao-wen-ti/" title="背包问题">     <img class="post_bg" src="https://images.unsplash.com/photo-1581463455583-40abcfc90be7?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1234&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="背包问题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/15/bei-bao-wen-ti/" title="背包问题">背包问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-15T09:13:36.000Z" title="发表于 2020-01-15 17:13:36">2020-01-15</time></span></div><div class="content"> 1. 01背包问题
有 NNN 件物品和一个容量是 VVV 的背包。每件物品只能使用一次。
分析：

每一个背包只有 拿出 or 不拿出 两种情况
对于 dp 数组，我们某一个状态 dp[i][j] 表示 前i种背包的情况下，他们的总重量是 j 的最优解

如果 i 背包不拿，那么 dp[i][j] = dp[i - 1][j]
如果 i 背包拿取，那么 dp[i][j] = dp[i - 1][j - weights[i]] + values[i]

也就是说，拿取之后，需要看剩下的部分最优解





 算法优化
根据之前的状态转移方程，我们可以约减一维的 dp 空间
改进之后的 dp 状态转移方程如下：
dp[i] = max(dp[j], dp[j - weights[i]] + values[i])

为什么在内层循环，j 需要逆序？
在没有开始计算的时候，dp[i]表示的是dp[i-1][j] 。而当我们需要计算 dp[i] = max(dp[j], dp[j - weights[i]] + values[i])的时候，需要保证 dp[j - w[i]] 是 没有被改变的 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/01/15/c-xin-te-xing/" title="c++新特性">     <img class="post_bg" src="https://images.unsplash.com/photo-1565433435379-877a403f0f09?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=967&amp;q=80" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="c++新特性"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/01/15/c-xin-te-xing/" title="c++新特性">c++新特性</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-01-15T02:14:27.000Z" title="发表于 2020-01-15 10:14:27">2020-01-15</time></span></div><div class="content"> What’s new in C++ 11?
 storage duration specifier
多个C++版本都对变量存储时间的定义有严格的说明


auto - automatic storage duration.


register - automatic storage duration. Also hints to the compiler to place the object in the processor’s register. (deprecated) ——since C++ 17


static - static or thread storage duration and internal linkage


extern - static or thread storage duration and external linkage.


thread_local - thread storage duration
The thread_local keyword is only allowed for objects declared at nam ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://images.unsplash.com/photo-1569525987258-6aa03a5e4926?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2132&amp;q=80" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">caribou</div><div class="author-info__description">Make Every Line Holy</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length_num">17</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length_num">9</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/CaribouW"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/CaribouW" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div></div><div class="sticky_layout"><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1/"><span class="card-category-list-name">服务</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9D%82%E8%B0%88/"><span class="card-category-list-name">杂谈</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">笔记</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">算法</span><span class="card-category-list-count">2</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/K8S/" style="font-size: 1.1em; color: #999">K8S</a> <a href="/tags/UpUp/" style="font-size: 1.1em; color: #999">UpUp</a> <a href="/tags/coding/" style="font-size: 1.1em; color: #999">coding</a> <a href="/tags/competition/" style="font-size: 1.3em; color: #99a1ac">competition</a> <a href="/tags/%E6%95%B4%E7%90%86/" style="font-size: 1.1em; color: #999">整理</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 1.5em; color: #99a9bf">笔记</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.1em; color: #999">算法</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.1em; color: #999">设计模式</a> <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 1.1em; color: #999">读书笔记</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/12/"><span class="card-archive-list-date">十二月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/04/"><span class="card-archive-list-date">四月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">三月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/02/"><span class="card-archive-list-date">二月 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/01/"><span class="card-archive-list-date">一月 2020</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/12/"><span class="card-archive-list-date">十二月 2019</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/10/"><span class="card-archive-list-date">十月 2019</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2019/09/"><span class="card-archive-list-date">九月 2019</span><span class="card-archive-list-count">2</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">17</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">22.1k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-01-24T07:33:51.900Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By caribou</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div><!-- hexo-inject:begin --><!-- hexo-inject:end --></body></html>